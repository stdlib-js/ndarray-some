// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assert-is-integer-data-type@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-some@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-dtype@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-data-buffer@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides@v0.2.2-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-offset@v0.2.2-esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ctor@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@v0.2.3-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/strided-base-reinterpret-boolean@v0.0.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import E from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@esm/index.mjs";import T from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@esm/index.mjs";import{isPrimitive as S}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@esm/index.mjs";import{primitives as V}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@esm/index.mjs";import O from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@esm/index.mjs";import z from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import _ from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@esm/index.mjs";import q from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";import P from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@esm/index.mjs";import R from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";import A from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@esm/index.mjs";import B from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@esm/index.mjs";import C from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-maybe-broadcast-array@esm/index.mjs";import D from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-broadcast-scalar@esm/index.mjs";import F from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@esm/index.mjs";var G={dims:null,keepdims:!1};function H(e,s,r){var t;if(!E(r))return new TypeError(q("null2V",r));if(T(r,"keepdims")&&(e.keepdims=r.keepdims,!S(e.keepdims)))return new TypeError(q("null2o","keepdims",e.keepdims));if(T(r,"dims")){if(e.dims=r.dims,!V(e.dims)&&!O(e.dims))return new TypeError(q("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",e.dims));if(null===(t=z(e.dims,s-1)))return new RangeError(q("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",_(e.dims,",")));if(t.length!==e.dims.length)return new Error(q("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",_(e.dims,",")));e.dims=t}return null}var I=b.get("dtypes.integer_index");function J(e,b,E){var T,S,V,O,z,_,q,P,R,A;if(!r(e))throw new TypeError(k("null5t",e));if(P=(z=o(e)).length,T=w({},G),arguments.length>2&&(V=H(T,P,E)))throw V;if(null===T.dims&&(T.dims=x(P)),O=m(P,T.dims),_=y(z,O),q=l(e),r(b)){if(!t(a(b)))throw new TypeError(k("invalid argument. Second argument must have an integer data type. Value: `%s`.",b));try{R=g(b,_)}catch(V){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!s(b))throw new TypeError(k("invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.",b));R=f(b,I,_,q)}return A=c(_,{dtype:"bool",order:q}),S=new v("uint8",u(p(A),0),_,j(A,!1),h(A),l(A)),i(n,[e,S,R],T.dims),T.keepdims&&(A=d(P,A,O)),A}var K=B.get("dtypes.integer_index");function L(e,r,d,m){var o,p,j,h,b;if(!P(e))throw new TypeError(q("null5t",e));if(!P(d))throw new TypeError(q("invalid argument. Third argument must be an ndarray-like object. Value: `%s`.",d));if(h=R(e),o=F({},G),arguments.length>3&&(p=H(o,h,m)))throw p;if(null===o.dims&&(o.dims=x(h)),j=l(e),P(r)){if(!t(a(r)))throw new TypeError(q("invalid argument. Second argument must have an integer data type. Value: `%s`.",r));try{b=C(r,A(d))}catch(p){throw new Error("invalid argument. Second argument must be broadcast-compatible with the non-reduced dimensions of the input array.")}}else{if(!s(r))throw new TypeError(q("invalid argument. Second argument must be an integer or an ndarray-like object. Value: `%s`.",r));b=D(r,K,A(d),j)}return i(n,[e,d,b],o.dims),d}e(J,"assign",L);export{L as assign,J as default};
//# sourceMappingURL=index.mjs.map
